# HTML生成
全画面共通事項:
  - staticフォルダを参照できるように設定:{% load static %}
  - テンプレート: base.html
  - css: 
    - ファイル位置: mailviewer/static/css/mailviewer.css

base.htmlの定義:
  ファイル位置: mailviewer/base.html
  画面左:
    - 説明: メールディレクトリを表示
    - 幅:
      - 20%に設定
    - コンテントエリア:
      - 説明: 画面のコンテンツエリア
      - 表示項目: コンテンツエリア
          - 内容: 
            - メールが格納されているディレクトを表示
            - ディレクトリ名をクリックするとメール一覧が表示される
            - ディレクトリ名はリンク形式で表示
            - リンク先: /mailviewer/mail/<int:mail_id>/
            - 説明: メールの詳細画面に遷移する
            - 補足: 実装は現時点では保留
  画面右:
    - 説明: メールの一覧を表示
    - 幅:
      - 残りの80%に設定
    - コンテントエリア:
      - 説明: 画面のコンテンツエリア
      - 表示項目: コンテンツエリア
          - 内容: {% block list %}{% endblock %}
          - 説明: コンテンツエリアは各画面で上書きされる

index.htmlの定義:
  ファイル位置: mailviewer/index.html
  継承テンプレート: mailviewer/base.html
  ブロック開始: list
  画面名: メイン画面
    - 画面ID: index
    - ファイル名: index.html
    - 画面説明: メールの一覧を表示
    - 画面URL: /mailviewer/
    - 画面コンテキスト:
        title: メール一覧
        message: 空白
    - 画面項目:
      - 検索条件: 
        - デザイン
          - 表形式で表示する
          - 検索条件の項目は横方向に配置する
          - 各項目はラベルと入力欄をセットで表示する
              - １列目:
                - １行目: タイトルのラベル
                - ２行目: タイトルの入力項目
              - ２列目: FROM
                - 1行目: FROMのラベル
                - 2行目: FROMの入力項目
              - ３列目: TO
                - １行目: TOのラベル
                - ２行目: TOの入力項目
              - ４列目: CC
                - １行目: CCのラベル
                - ２行目: CCの入力項目
              - ５列目: 受信日
                - １行目: 受信日のラベル
                - ２行目: 受信日の入力項目
        - mailSearchFormを使用して検索
          - タイトル:
            - 名称: タイトル
            - フォーム名: mailSearchForm
            - 項目ID: subject
            - 項目説明: メールのタイトルを入力する
          - FROM:
            - 名称: FROM
            - フォーム名: mailSearchForm
            - 項目ID: sender
            - 項目説明: メールの送信者を入力する
          - TO:
            - 名称: TO
            - フォーム名: mailSearchForm
            - 項目ID: recipients
            - 項目説明: メールの受信者を入力する
          - CC:
            - 名称: CC
            - フォーム名: mailSearchForm
            - 項目ID: cc
            - 項目説明: メールのCCを入力する
          - 受信日:
            - 名称: 受信日
            - フォーム名: mailSearchForm
            - 項目ID: received_at
            - 項目説明: メールの受信日を入力する
          - ボタン群:
            - 位置の補足:
              - 検索条件の下に配置する
              - tableの下に配置する
              - formの中に配置する
            - 検索ボタン:
              - 名称: 検索
              - 検索ボタンの動作:
                - mailSearchFormを使用して検索を実行する
                - 検索結果を表示する
            - emlファイル取込リンク:
              - 名称: emlファイル取込
              - リンク先: /mailviewer/input/
      - 検索結果一覧: 検索条件で抽出したメールデータを一覧表示する
        - メールID:
          - エンティティ名: mail
          - 項目ID: email_id
          - 項目説明: 画面には表示しないが、メールの一意な識別子
        - タイトル:
          - エンティティ名: mail
          - 項目ID: subject
          - 項目説明: 
            - メールのタイトルを表示する
            - リンク形式で表示
            - リンク先: mail_detail
            - 新しいタブで開く
            - 幅は200px
        - FROM:
          - エンティティ名: mail
          - 項目ID: from
          - 項目説明: 
            - メールの送信者を表示する
            - 幅は50px
        - TO:
          - エンティティ名: mail
          - 項目ID: to
          - 項目説明: 
            - メールの受信者を表示する
            - 幅は50px
        - sent_at:
          - エンティティ名: mail
          - 項目ID: sent_at
          - 項目説明: メールの送信日時を表示する
          - 補足: 
            - メールの送信日時はUTCで表示される
            - 幅は50px
        - 全体のスタイル
          - ヘッダの文字列は中央寄せ
          - 各行は改行しない
          - セルの幅を超えた場合は省略記号(...)を表示する
  - ブロック終了: list

input.htmlの定義:
  ファイル位置: mailviewer/input.html
  画面名: EMLファイル取込画面
    - 画面ID: input
    - ファイル名: input.html
    - 画面説明: EMLファイルをアップロードしてメールを取込む
    - 画面URL: /mailviewer/input/
    - 画面コンテキスト:
        title: EMLファイル取込
        message: 空白
    - 画面項目:
      - アップロードフォーム:
        - EmlUploadFormを使用してEMLファイルをアップロードする
        - アップロードボタンを配置:
          - ボタン名: アップロード
          - ボタンの動作:
            - ファイルを取り込むダイアログを表示する
            - ファイルを選択したら、アップロードを実行する
            - emlファイルをDBに保存する

mail_detail.htmlの定義:
  - ファイル位置: mailviewer/templates/mailviewermail_detail.html
  - 画面名: メール詳細画面
    - 画面ID: mail_detail
    - ファイル名: mail_detail.html
    - 画面説明: メールの詳細情報を表示する
    - 画面URL: /mailviewer/mail_detail/
    - 画面コンテキスト:
        title: メール詳細
        mailForm: MailForm
        attachForm: AttachForm
    - 画面項目:
      - ヘッダ1:
        - タイトル:
          - フォーム名: MailForm
          - 項目ID: subject
          - 項目説明: 
            - メールのタイトルを表示する
            - ラベルは不要
            - H1タグで表示
      - ヘッダ2:
        - レイアウトについて:
          - 表形式とする
          - ラベルは左セル
          - 値は右セル
        - メール送信者:
          - フォーム名: MailForm
          - 項目ID: sender
          - 項目説明: メールの送信者を表示する
        - メール受信者:
          - フォーム名: MailForm
          - 項目ID: recipients
          - 項目説明: メールの受信者を表示する
        - メールCC:
          - フォーム名: MailForm
          - 項目ID: cc
          - 項目説明: メールのCCを表示する
        - メール受信日時:
          - フォーム名: MailForm
          - 項目ID: sent_at
          - 項目説明: メールの受信日時を表示する
          - フォーマット: YYYY/MM/DD HH:MM
      - メール本文:
        - フォーム名: MailForm
        - 項目ID: body
        - 項目説明: 
          - タイトルはh2タグで表示
          - メールの本文を表示する
          - 改行・空白も出力する
      - 添付ファイル:
        - モデル名: attachments
          - attachments
            - 空白の場合は「(なし)」と表示する
            - 空白以外:
              - 項目ID: attach_fileの値を表示する
              - 項目説明: 
                - 添付ファイルの一覧を表示する
              - 各添付ファイル名をリンク形式で表示
              - リンク先: /mailviewer/attach/<int:attach_id>/ 
